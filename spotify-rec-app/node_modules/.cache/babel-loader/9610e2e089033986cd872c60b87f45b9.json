{"ast":null,"code":"var _jsxFileName = \"/Users/kyle.snow/repos/spotify_recommendation_engine/spotify-rec-app/src/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Banner from './Banner';\n\nfunction Home() {\n  const [currentTime, setCurrentTime] = useState(0);\n  useEffect(() => {\n    fetch('/time').then(res => res.json()).then(data => {\n      setCurrentTime(data.time);\n    });\n  }, []); // const script = url => {\n  //   useEffect(() => {\n  //     const script = document.createElement('script');\n  //   }, []);\n  // };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home\",\n    className: \"page-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, \"Authorize Spotify Account\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    className: \"btn btn-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, \"Log in with Spotify\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loggedin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"user-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"oauth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default\",\n    id: \"obtain-new-token\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Obtain new token using the refresh token\")));\n}\n\n;\nexport default Home;","map":{"version":3,"sources":["/Users/kyle.snow/repos/spotify_recommendation_engine/spotify-rec-app/src/Home.js"],"names":["React","useState","useEffect","Banner","Home","currentTime","setCurrentTime","fetch","then","res","json","data","time"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;AAEA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,SAASC,IAAT,GAAgB;AACd,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,CAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,KAAK,CAAC,OAAD,CAAL,CAAeC,IAAf,CAAoBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAA3B,EAAuCF,IAAvC,CAA4CG,IAAI,IAAI;AAClDL,MAAAA,cAAc,CAACK,IAAI,CAACC,IAAN,CAAd;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT,CAHc,CASd;AACA;AACA;AACA;AACA;;AAGA,sBACE;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,SAAS,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,eAEE;AAAG,IAAA,IAAI,EAAC,QAAR;AAAiB,IAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,CADF,eAKE;AAAK,IAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,EAAE,EAAC,kBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAHF,CALF,CADF;AAqID;;AAAA;AAED,eAAeR,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Banner from './Banner';\n\nfunction Home() {\n  const [currentTime, setCurrentTime] = useState(0);\n\n  useEffect(() => {\n    fetch('/time').then(res => res.json()).then(data => {\n      setCurrentTime(data.time);\n    });\n  }, []);\n  \n  // const script = url => {\n  //   useEffect(() => {\n  //     const script = document.createElement('script');\n  //   }, []);\n  // };\n\n\n  return (\n    <div id=\"home\" className=\"page-body\">\n      <div id=\"login\">\n        <h1>Authorize Spotify Account</h1>\n        <a href=\"/login\" className=\"btn btn-login\">Log in with Spotify</a>\n      </div>\n      <div id=\"loggedin\">\n        <div id=\"user-profile\"/>\n        <div id=\"oauth\"/>\n        <button className=\"btn btn-default\" id=\"obtain-new-token\">Obtain new token using the refresh token</button>\n      </div>\n      \n{/*      <script id=\"user-profile-template\" type=\"text/x-handlebars-template\">\n        <h1>Logged in as {{display_name}}</h1>\n        <div className={\"media\"}>\n          <div className={\"pull-left\"}>\n            <img className={\"media-object\"} width={\"150\"} src=\"{{images.0.url}}\" />\n          </div>\n          <div className={\"media-body\"}>\n            <dl className={\"dl-horizontal\"}>\n              <dt>Display name</dt><dd className={\"clearfix\"}>{display_name}</dd>\n              <dt>Id</dt><dd>{{id}}</dd>\n              <dt>Email</dt><dd>{{email}}</dd>\n              <dt>Spotify URI</dt><dd><a href=\"{{external_urls.spotify}}\">{{external_urlsspotify}}</a></dd>\n              <dt>Link</dt><dd><a href={\"{{href}}\"}>{{href}}</a></dd>\n              <dt>Profile Image</dt><dd className={\"clearfix\"}><a href=\"{\"{{images.0.url}}\"}\"}>{{images.0.url}}</a></dd>\n              <dt>Country</dt><dd>{{country}}</dd>\n            </dl>\n          </div>\n        </div>\n      </script>*/}\n      \n      {/*<script id={\"oauth-template\"} type={\"text/x-handlebars-template\"}>*/}\n      {/*  <h2>oAuth info</h2>*/}\n      {/*  <dl className={\"dl-horizontal\"}>*/}\n      {/*    <dt>Access token</dt><dd className={\"text-overflow\"}>{{access_token}}</dd>*/}\n      {/*    <dt>Refresh token</dt><dd className={\"text-overflow\"}>{{refresh_token}}</dd>*/}\n      {/*  </dl>*/}\n      {/*</script>*/}\n      \n      {/*<script src={\"//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js\"}></script>*/}\n      {/*<script src={\"http://code.jquery.com/jquery-1.10.1.min.js\"}></script>*/}\n      {/*<script>*/}\n      {/*  (function() {*/}\n      {/*  */}\n      {/*  /***/}\n      {/*   * Obtains parameters from the hash of the URL*/}\n      {/*   * @return Object*/}\n      {/*   */}\n      {/*  function getHashParams() {*/}\n      {/*    var hashParams = {};*/}\n      {/*    var e, r = /([^&;=]+)=?([^&;]*)/g,*/}\n      {/*      q = window.location.hash.substring(1);*/}\n      {/*    while(e = r.exec(q)) {*/}\n      {/*      hashParams[e[1]] = decodeURIComponent(e[2]);*/}\n      {/*    }*/}\n      {/*    return hashParams;*/}\n      {/*  }*/}\n      {/*  */}\n      {/*  var userProfileSource = document.getElementById('user-profile-template').innerHTML,*/}\n      {/*      userProfileTemplate = Handlebars.compile(userProfileSource),*/}\n      {/*      userProfilePlaceholder = document.getElementById('user-profile');*/}\n      {/*  */}\n      {/*  var oauthSource = document.getElementById('oauth-template').innerHTML,*/}\n      {/*      oauthTemplate = Handlebars.compile(oauthSource),*/}\n      {/*      oauthPlaceholder = document.getElementById('oauth');*/}\n      {/*  */}\n      {/*  var params = getHashParams();*/}\n      {/*  */}\n      {/*  var access_token = params.access_token,*/}\n      {/*      refresh_token = params.refresh_token,*/}\n      {/*      error = params.error;*/}\n      {/*  */}\n      {/*  if (error) {*/}\n      {/*    alert('There was an error during the authentication');*/}\n      {/*  } else {*/}\n      {/*    if (access_token) {*/}\n      {/*      // render oauth info*/}\n      {/*      oauthPlaceholder.innerHTML = oauthTemplate({*/}\n      {/*        access_token: access_token,*/}\n      {/*        refresh_token: refresh_token*/}\n      {/*      });*/}\n      {/*      */}\n      {/*      $.ajax({*/}\n      {/*        url: 'https://api.spotify.com/v1/me',*/}\n      {/*        headers: {*/}\n      {/*          'Authorization': 'Bearer ' + access_token*/}\n      {/*        },*/}\n      {/*        success: function(response) {*/}\n      {/*          userProfilePlaceholder.innerHTML = userProfileTemplate(response);*/}\n      {/*          $('#login').hide();*/}\n      {/*          $('#loggedin').show();*/}\n      {/*        }*/}\n      {/*      });*/}\n      {/*    } else {*/}\n      {/*      // render initial screen*/}\n      {/*      $('#login').show();*/}\n      {/*      $('#loggedin').hide();*/}\n      {/*    }*/}\n      {/*  */}\n      {/*    document.getElementById('obtain-new-token').addEventListener('click', function() {*/}\n      {/*      $.ajax({*/}\n      {/*        url: '/refresh_token',*/}\n      {/*        data: {*/}\n      {/*          'refresh_token': refresh_token*/}\n      {/*        }*/}\n      {/*      }).done(function(data) {*/}\n      {/*        access_token = data.access_token;*/}\n      {/*        oauthPlaceholder.innerHTML = oauthTemplate({*/}\n      {/*          access_token: access_token,*/}\n      {/*          refresh_token: refresh_token*/}\n      {/*        });*/}\n      {/*      });*/}\n      {/*      }, false);*/}\n      {/*  }*/}\n      {/*})();*/}\n      {/*</script>*/}\n      \n      {/*<img src={logo} className=\"App-logo\" alt=\"logo\" />*/}\n      {/*<p>*/}\n      {/*  Edit <code>src/App.js</code> and save to reload.*/}\n      {/*</p>*/}\n      {/*<a*/}\n      {/*  className=\"App-link\"*/}\n      {/*  href=\"https://reactjs.org\"*/}\n      {/*  target=\"_blank\"*/}\n      {/*  rel=\"noopener noreferrer\"*/}\n      {/*>*/}\n      {/*  Learn React*/}\n      {/*</a>*/}\n      {/*<p>The current time is {currentTime}.</p>*/}\n    </div>\n  );\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}